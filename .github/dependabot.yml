# .github/dependabot.yml
# Automatische Dependency-Updates f√ºr Container und Actions

version: 2
updates:
  # GitHub Actions Updates
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "08:00"
    open-pull-requests-limit: 5
    reviewers:
      - "USERNAME"
    assignees:
      - "USERNAME"
    commit-message:
      prefix: "[dependabot]"
      include: "scope"

  # Docker Container Updates
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 3
    reviewers:
      - "USERNAME"
    assignees:
      - "USERNAME"
    commit-message:
      prefix: "[dependabot]"
      include: "scope"

---

# .github/SECURITY.md
# Security Policy

## Supported Versions

Diese Versionen erhalten aktuelle Sicherheitsupdates:

| Version | Supported          |
| ------- | ------------------ |
| latest  | :white_check_mark: |
| v1.x.x  | :white_check_mark: |
| < v1.0  | :x:                |

## Reporting a Vulnerability

### Verantwortungsvolle Offenlegung

Wenn du eine Sicherheitsl√ºcke findest, melde sie bitte verantwortungsvoll:

1. **Sende eine E-Mail** an security@your-domain.com
2. **Verwende KEINE** √∂ffentlichen Issues f√ºr Sicherheitsprobleme
3. **Beschreibe** das Problem so detailliert wie m√∂glich
4. **Gib uns Zeit** f√ºr eine Antwort (normalerweise 48h)

### Was du erwarten kannst

- **Best√§tigung** deines Reports innerhalb von 48 Stunden
- **Regelm√§√üige Updates** zum Fortschritt der Behebung
- **Credit** in der Danksagung (falls gew√ºnscht)
- **Koordinierte Offenlegung** nach der Behebung

### Sicherheitsbest Practices

Beim Verwenden dieses Containers:

#### Container Security
- ‚úÖ Verwende **spezifische Tags** statt `latest`
- ‚úÖ Scanne Container regelm√§√üig auf Vulnerabilities
- ‚úÖ Verwende **read-only** Filesysteme wo m√∂glich
- ‚ö†Ô∏è **Privileged Mode** ist f√ºr Bluetooth/Audio erforderlich

#### Network Security  
- ‚úÖ Beschr√§nke **VBAN-Traffic** auf vertrauensw√ºrdige Netzwerke
- ‚úÖ Verwende **Firewall-Regeln** f√ºr Port 6980/UDP
- ‚úÖ √úberwache **Netzwerk-Traffic** auf Anomalien
- ‚ö†Ô∏è **Host-Network** Modus ist f√ºr Bluetooth erforderlich

#### Bluetooth Security
- ‚úÖ Verwende **starke Bluetooth-PINs** (falls konfiguriert)
- ‚úÖ Deaktiviere **Discovery-Mode** nach Setup
- ‚úÖ Entferne **ungenutzte Pairings** regelm√§√üig
- ‚ö†Ô∏è **Auto-Accept** ist praktisch, aber weniger sicher

### Container Scanning

Unser Container wird automatisch gescannt mit:

- **Trivy** - Vulnerability Scanner
- **GitHub Security Advisories**
- **Base Image** Updates (Debian Security)

Du kannst den Container selbst scannen:

```bash
# Mit Trivy
docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
  aquasec/trivy image ghcr.io/USERNAME/REPOSITORY:latest

# Mit Snyk
snyk container test ghcr.io/USERNAME/REPOSITORY:latest
```

### Sichere Konfiguration

Empfohlene Sicherheits-Konfiguration:

```yaml
# docker-compose.yml - Security Hardened
services:
  vban-bluetooth-speaker:
    image: ghcr.io/USERNAME/REPOSITORY:v1.2.3  # Spezifische Version
    
    # Security Options
    security_opt:
      - no-new-privileges:true
    
    # Read-only Root (wo m√∂glich)
    read_only: true
    tmpfs:
      - /tmp:noexec,nosuid,size=100m
      - /var/tmp:noexec,nosuid,size=50m
    
    # Capabilities (minimal erforderlich)
    cap_add:
      - NET_RAW          # F√ºr Bluetooth
      - SYS_ADMIN        # F√ºr Audio-Hardware
    cap_drop:
      - ALL
    
    # User Namespace (falls m√∂glich)
    user: "1000:1000"
    
    # Resource Limits
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
          pids: 100
    
    # Logging f√ºr Security Monitoring
    logging:
      driver: syslog
      options:
        syslog-address: "udp://syslog-server:514"
        tag: "vban-bluetooth-{{.ID}}"
```

### Known Security Considerations

#### Privileged Container
- **Erforderlich** f√ºr Hardware-Zugriff (Bluetooth/Audio)
- **Risiko**: Root-Zugriff auf Host-System
- **Mitigation**: Verwende auf isolierten Systemen (Raspberry Pi)

#### Host Networking
- **Erforderlich** f√ºr Bluetooth-Funktionalit√§t
- **Risiko**: Vollst√§ndiger Netzwerk-Zugriff
- **Mitigation**: Firewall-Regeln und Netzwerk-Segmentierung

#### Auto Bluetooth Pairing
- **Praktisch** f√ºr Benutzerfreundlichkeit
- **Risiko**: Ungewollte Verbindungen m√∂glich
- **Mitigation**: Regelm√§√üige √úberpr√ºfung der Pairings

### Security Monitoring

√úberwache diese Logs f√ºr Security Events:

```bash
# Container Logs
docker logs vban-bluetooth-speaker | grep -E "(WARN|ERROR|SECURITY)"

# Bluetooth Connections
docker exec vban-bluetooth-speaker bluetoothctl devices Connected

# Network Connections
netstat -tulnp | grep 6980

# System Logs
journalctl -u docker -f | grep vban-bluetooth-speaker
```

### Contact

F√ºr Sicherheitsfragen:
- üìß **Security E-Mail**: security@your-domain.com
- üîí **GPG Key**: [Public Key Link]
- ‚è±Ô∏è **Response Time**: < 48h
- üåê **Security Page**: https://your-website.com/security